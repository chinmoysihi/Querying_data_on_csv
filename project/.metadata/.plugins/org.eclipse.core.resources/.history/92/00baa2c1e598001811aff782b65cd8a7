package com.fragma.data;

import java.util.*;
import java.util.Map.Entry;

public class TopTenEconomy {
	
	public static void economy(ArrayList<Deliveries> darr,ArrayList<Matches> marr) {
		
		LinkedHashMap<String,String> map= new LinkedHashMap<>();
		int trun=0;
		int tovr=0;
		for(Matches m : marr) {
			map.put(m.getMATCH_ID()	, m.getSEASON());
		}
		LinkedHashMap<String,String> smap= new LinkedHashMap<>();
		Set<Entry<String,String>> set= map.entrySet();
		
		for(Entry<String,String> entry:set) {
			int movr=0;
			for(Deliveries d:darr) {
				if(entry.getKey().toString().equals(d.getMATCH_ID())) {
					String key= entry.getValue().toString()+","+d.getBOWLER();
					String val="";
					if(!smap.containsKey(key)) {
						trun=Integer.parseInt(d.getWIDE_RUNS())+Integer.parseInt(d.getNOBALL_RUNS())+Integer.parseInt(d.getBATSMAN_RUNS());
						movr=1;
						tovr=1;
						smap.put(key, trun+","+tovr); 
					}else {
						int r=Integer.parseInt(d.getWIDE_RUNS())+Integer.parseInt(d.getNOBALL_RUNS())+Integer.parseInt(d.getBATSMAN_RUNS());
						String arr[]= smap.get(key).toString().split(",");
						trun=Integer.parseInt(arr[0]);
						tovr=Integer.parseInt(arr[1]);
						trun+=r;
						if(Integer.parseInt(d.getOVER())>movr) {
							tovr++;
							movr++;
						}
						smap.put(key, trun+","+tovr);
					}
				}
			}
		}
		System.out.println(smap);
	}
}
